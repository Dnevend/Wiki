{
    "version": "https://jsonfeed.org/version/1",
    "title": "小学後生",
    "home_page_url": "https://dnevend.site/blog",
    "description": "小学後生 Blog",
    "items": [
        {
            "id": "https://dnevend.site/blog/debug-mobile-web",
            "content_html": "<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"介绍\">介绍<a class=\"hash-link\" aria-label=\"介绍的直接链接\" title=\"介绍的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E4%BB%8B%E7%BB%8D\">​</a></h2>\n<p>当移动端 web 项目部署在生产环境, 出现 Android/ios 特定设备下的样式兼容问题, 或想要模拟请求与响应数据, 以及查看 Debug 的数据内容时, 该如何进行调试?</p>\n<p>大多数场景,你可以通过 Chrome 浏览器自带的 <code>chrome://inspect</code> 功能, 通过数据线连接设备, 进行真机调试.</p>\n<p>但当遇到需要模拟特定请求或响应内容、注入脚本、修改请求响应头的场景时, Chrome 自带的调试工具就难以应对了. 又或者, 你的项目作为 web-view 页面嵌入在其他的应用程序内, 在这几种场景下 <code>whistle</code> 工具就可以很好的发挥了.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"使用-chromeinspect-调试\">使用 <a href=\"chrome://inspect\">chrome://inspect</a> 调试<a class=\"hash-link\" aria-label=\"使用-chromeinspect-调试的直接链接\" title=\"使用-chromeinspect-调试的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E4%BD%BF%E7%94%A8-chromeinspect-%E8%B0%83%E8%AF%95\">​</a></h2>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"开启-usb-调试\">开启 USB 调试<a class=\"hash-link\" aria-label=\"开启 USB 调试的直接链接\" title=\"开启 USB 调试的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E5%BC%80%E5%90%AF-usb-%E8%B0%83%E8%AF%95\">​</a></h3>\n<ul>\n<li><a href=\"https://developer.android.com/studio/debug/dev-options?hl=zh-cn#Enable-debugging\" target=\"_blank\" rel=\"noopener noreferrer\">Android</a></li>\n</ul>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"启用调试\">启用调试<a class=\"hash-link\" aria-label=\"启用调试的直接链接\" title=\"启用调试的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E5%90%AF%E7%94%A8%E8%B0%83%E8%AF%95\">​</a></h3>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"inspect page\" src=\"https://dnevend.site/assets/images/inspect-a4dc829510429801149bb8cc24922abb.png\" width=\"1240\" height=\"720\" class=\"img_ev3q\"></p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"dev-tools\" src=\"https://dnevend.site/assets/images/dev-tools-b7f236d61bd1ad56a38b9c4798b102f0.png\" width=\"1269\" height=\"812\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"使用-whistle-调试\">使用 <a href=\"https://wproxy.org/whistle/\" target=\"_blank\" rel=\"noopener noreferrer\">whistle</a> 调试<a class=\"hash-link\" aria-label=\"使用-whistle-调试的直接链接\" title=\"使用-whistle-调试的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E4%BD%BF%E7%94%A8-whistle-%E8%B0%83%E8%AF%95\">​</a></h2>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"官方介绍\">官方介绍<a class=\"hash-link\" aria-label=\"官方介绍的直接链接\" title=\"官方介绍的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E5%AE%98%E6%96%B9%E4%BB%8B%E7%BB%8D\">​</a></h3>\n<blockquote>\n<p>whistle(读音[ˈwɪsəl]，拼音[wēisǒu]) 基于 Node 实现的跨平台 web 调试代理工具，类似的工具有 Windows 平台上的 Fiddler，主要用于查看、修改 HTTP、HTTPS、Websocket 的请求、响应，也可以作为 HTTP 代理服务器使用，不同于 Fiddler 通过断点修改请求响应的方式，whistle 采用的是类似配置系统 hosts 的方式，一切操作都可以通过配置实现，支持域名、路径、正则表达式、通配符、通配路径等多种匹配方式，且可以通过 Node 模块扩展功能</p>\n</blockquote>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"安装启动\">安装&amp;启动<a class=\"hash-link\" aria-label=\"安装&amp;启动的直接链接\" title=\"安装&amp;启动的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E5%AE%89%E8%A3%85%E5%90%AF%E5%8A%A8\">​</a></h3>\n<blockquote>\n<p>步骤: 安装 <a href=\"https://nodejs.org/en\" target=\"_blank\" rel=\"noopener noreferrer\">Node</a> &gt; 安装 whistle &gt; 启动 whistle &gt; 配置代理 &gt; 安装根证书</p>\n</blockquote>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#393A34;background-color:#f6f8fa\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 安装</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">npm install -g whistle</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 检查: 执行下方命令后如果正常输出whistle帮助信息, 代表安装成功</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">w2 help</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 启动: 运行后默认访问地址为 http://127.0.0.1:8899/</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">w2 start</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<blockquote>\n<p>更多命令见 <a href=\"https://wproxy.org/whistle/options.html\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a></p>\n</blockquote>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"代理证书配置\">代理&amp;证书配置<a class=\"hash-link\" aria-label=\"代理&amp;证书配置的直接链接\" title=\"代理&amp;证书配置的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E4%BB%A3%E7%90%86%E8%AF%81%E4%B9%A6%E9%85%8D%E7%BD%AE\">​</a></h3>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"qrcode\" src=\"https://dnevend.site/assets/images/qrcode-6d77d5a78638f74bb6784cc8891e495d.png\" width=\"3094\" height=\"1790\" class=\"img_ev3q\"></p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"network\" src=\"https://dnevend.site/assets/images/network-bcd00679be3e7589e23688f543d7eb2f.png\" width=\"3096\" height=\"1960\" class=\"img_ev3q\"></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"使用\">使用<a class=\"hash-link\" aria-label=\"使用的直接链接\" title=\"使用的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E4%BD%BF%E7%94%A8\">​</a></h3>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"原理流程\">原理&amp;流程<a class=\"hash-link\" aria-label=\"原理&amp;流程的直接链接\" title=\"原理&amp;流程的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E5%8E%9F%E7%90%86%E6%B5%81%E7%A8%8B\">​</a></h3>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"常用规则\">常用规则<a class=\"hash-link\" aria-label=\"常用规则的直接链接\" title=\"常用规则的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E5%B8%B8%E7%94%A8%E8%A7%84%E5%88%99\">​</a></h3>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#393A34;background-color:#f6f8fa\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 修改请求列表显示Style</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    style://color=@fff&amp;fontStyle=italic&amp;bgColor=red</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 修改UserAgent</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\tua://{ua}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 修改状态码</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\tstatusCode://[statusCode]</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 修改请求头/响应头</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\treqHeaders://{value}  resHeaders://{value}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 修改请求内容</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\treqBody://{request.json}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 修改响应内容</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\tresBody://{response.json}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 模拟延时</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\treqDelay://[delayTime]</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 处理跨域</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\tresCors://*</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 修改Host配置</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\t[originHost] [targetHost]</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"引用参考\">引用参考<a class=\"hash-link\" aria-label=\"引用参考的直接链接\" title=\"引用参考的直接链接\" href=\"https://dnevend.site/blog/debug-mobile-web#%E5%BC%95%E7%94%A8%E5%8F%82%E8%80%83\">​</a></h2>\n<p><a href=\"https://wproxy.org/whistle/\" target=\"_blank\" rel=\"noopener noreferrer\">Whistle</a></p>",
            "url": "https://dnevend.site/blog/debug-mobile-web",
            "title": "移动端调试",
            "summary": "使用 `chrome://inspect` 和 `whistle` 进行移动端调试",
            "date_modified": "2024-07-29T06:57:33.000Z",
            "author": {
                "name": "小学后生",
                "url": "https://dnevend.github.io"
            },
            "tags": [
                "tech"
            ]
        }
    ]
}